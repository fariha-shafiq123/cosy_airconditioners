<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dawlance Central Air 3 Ton - Cosy Air Conditioners</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    .py-5 { padding-top: 5rem !important; padding-bottom: 3rem !important; }
    .product-title { font-weight: 700; }
    .price { font-size: 1.8rem; font-weight: 600; color: #0d9488; }
    .key-features li { margin-bottom: 8px; }
    .btn-custom { background: #0d9488; color: #fff; border-radius: 8px; }
    .btn-custom:hover { background: #0b7666; }
    .btn-outline-custom { border: 1px solid #0d9488; color: #0d9488; border-radius: 8px; }
    .btn-outline-custom:hover { background: #0d9488; color: #fff; }
    .specs-table th { width: 25%; background: #f3f4f6; }
    .specs-table td, .specs-table th { padding: 12px 15px; }
    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: #dc3545;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .cart-item-img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 8px;
    }
    .empty-cart {
      text-align: center;
      padding: 40px 0;
    }
    .empty-cart i {
      font-size: 48px;
      color: #ccc;
      margin-bottom: 15px;
    }
    .download-modal .modal-body {
      text-align: center;
      padding: 30px;
    }
    .download-icon {
      font-size: 48px;
      color: #0d9488;
      margin-bottom: 20px;
    }
    .download-btn {
      background: #0d9488;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .download-btn:hover {
      background: #0b7666;
    }
  </style>
</head>
<body>

<!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
    <div class="container">
      <a class="navbar-brand fw-bold text-primary" href="index.html">
        <i class="fas fa-snowflake me-2"></i>COSY <span class="text-dark">Air Conditioners</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="Products.html">Products</a></li>
          <li class="nav-item"><a class="nav-link" href="Brand.html">Brand</a></li>
          <li class="nav-item"><a class="nav-link" href="About.html">About</a></li>
          <li class="nav-item"><a class="nav-link" href="Compare.html">Compare</a></li>
          <li class="nav-item"><a class="nav-link" href="Contact.html">Contact</a></li>
          <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
        </ul>
        <div class="d-flex align-items-center">
          <!-- User Dropdown (shown when logged in) -->
          <div class="dropdown me-3" id="userDropdown" style="display: none;">
            <button class="btn dropdown-toggle d-flex align-items-center" type="button" id="userMenu" data-bs-toggle="dropdown">
              <i class="fas fa-user-circle me-2"></i>
              <span id="userName">User</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>My Profile</a></li>
              <li><a class="dropdown-item" href="Chackout.html"><i class="fas fa-shopping-bag me-2"></i>My Orders</a></li>
              <li><a class="dropdown-item" href=""><i class="fas fa-heart me-2"></i>Wishlist</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="signup.html" id="logoutBtn"><i class="fas fa-sign-out-alt me-2"></i>Logout</a></li>
            </ul>
          </div>
          
          
          
          <!-- Cart Button -->
          <button class="btn position-relative" id="cartToggle">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-badge" id="cartCount">0</span>
          </button>
        </div>
      </div>
    </div>
  </nav>

<section class="py-5" style="margin-top: 80px;">
  <div class="container">
    <div class="row g-4">
      <div class="col-md-6">
        <img id="mainImage" src="d5.png" class="img-fluid rounded shadow-sm mb-3" alt="Dawlance Central Air 3 Ton">
        <div class="d-flex gap-3">
          <img src="d5.png" class="img-thumbnail thumb" style="width:80px; cursor:pointer;">
          <img src="d1.png" class="img-thumbnail thumb" style="width:80px; cursor:pointer;">
          <img src="d4.png" class="img-thumbnail thumb" style="width:80px; cursor:pointer;">
        </div>
      </div>
      
      <div class="col-md-6">
        <span class="badge bg-success">DAWLANCE</span>
        <h2 class="product-title mt-2">Dawlance Central Air 3 Ton</h2>
        <p><i class="fa-solid fa-star text-warning"></i><i class="fa-solid fa-star text-warning"></i><i class="fa-solid fa-star text-warning"></i><i class="fa-solid fa-star text-warning"></i><i class="fa-solid fa-star text-warning"></i> (5.0 out of 5)</p>
        <div class="price mb-3">$1320</div>
        
        <h6>Key Features</h6>
        <ul class="key-features list-unstyled">
          <li><i class="fa fa-check text-success"></i> 3 Ton Capacity</li>
          <li><i class="fa fa-check text-success"></i> Whole Home Cooling</li>
          <li><i class="fa fa-check text-success"></i> Smart Thermostat</li>
          <li><i class="fa fa-check text-success"></i> Energy Efficient</li>
          <li><i class="fa fa-check text-success"></i> Zoned Cooling</li>
          <li><i class="fa fa-check text-success"></i> Commercial Grade</li>
        </ul>
        
        <div class="d-flex align-items-center mb-3">
          <label class="me-2 fw-bold">Quantity:</label>
          <div class="input-group" style="width:120px;">
            <button class="btn btn-outline-secondary minus-btn" type="button">-</button>
            <input type="text" class="form-control text-center" id="qty" value="1">
            <button class="btn btn-outline-secondary plus-btn" type="button">+</button>
          </div>
        </div>
        
        <div class="d-flex gap-3">
          <button class="btn btn-custom px-4" id="addToCartBtn"><i class="fa fa-cart-plus me-2"></i>Add to Cart</button>
          <button class="btn btn-outline-custom px-4" id="moreDetailsBtn" data-bs-toggle="modal" data-bs-target="#downloadModal"><i class="fa fa-file-word me-2"></i>More Details</button>
        </div>
        
        <div class="mt-4">
          <p><i class="fa fa-truck text-success me-2"></i> Free Delivery</p>
          <p><i class="fa fa-shield-halved text-success me-2"></i> 5 Year Warranty</p>
          <p><i class="fa fa-tools text-success me-2"></i> Professional Installation</p>
          <p><i class="fa fa-headset text-success me-2"></i> 24/7 Support</p>
        </div>
      </div>
    </div>

    <div class="bg-white rounded shadow-sm p-4 mt-5">
      <h4 class="mb-3">Specifications</h4>
      <table class="table specs-table">
        <tbody>
          <tr><th>Brand</th><td>DAWLANCE</td><th>Category</th><td>Central Air Conditioner</td></tr>
          <tr><th>Capacity</th><td>3 Ton</td><th>Energy Rating</th><td>5 Star</td></tr>
          <tr><th>Warranty</th><td>5 Years</td><th>Installation</th><td>Professional Required</td></tr>
          <tr><th>Cooling Power</th><td>36000 BTU</td><th>Noise Level</th><td>45 dB</td></tr>
          <tr><th>Coverage Area</th><td>Up to 1500 sq.ft</td><th>Thermostat</th><td>Smart Programmable</td></tr>
          <tr><th>System Type</th><td>Split Central System</td><th>Zoning</th><td>Multi-Zone Available</td></tr>
          <tr><th>Compressor</th><td>Heavy-Duty Scroll</td><th>Refrigerant</th><td>R410A</td></tr>
          <tr><th>SEER Rating</th><td>18+</td><th>Ductwork</th><td>Required</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<!-- Download Modal -->
<div class="modal fade download-modal" id="downloadModal" tabindex="-1" aria-labelledby="downloadModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="downloadModalLabel">Product Details Document</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="download-icon">
          <i class="fas fa-file-word"></i>
        </div>
        <h4>Dawlance Central Air 3 Ton</h4>
        <p class="mb-4">Complete product specifications, installation guide, and warranty information</p>
        <button class="download-btn" id="downloadDocBtn">
          <i class="fas fa-download me-2"></i>Download Document
        </button>
        <p class="mt-3 text-muted small">File: Dawlance-Central-Air-3-Ton.doc (3.2 MB)</p>
      </div>
    </div>
  </div>
</div>

<div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas" aria-labelledby="cartOffcanvasLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="cartOffcanvasLabel">Your Shopping Cart</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div id="cartItems">
      <div class="empty-cart">
        <i class="fas fa-shopping-cart"></i>
        <p>Your cart is empty</p>
      </div>
    </div>
    <div class="cart-summary mt-auto">
      <div class="d-flex justify-content-between mb-2">
        <span>Subtotal:</span>
        <span id="cartSubtotal">$0.00</span>
      </div>
      <div class="d-flex justify-content-between mb-3">
        <span>Shipping:</span>
        <span id="cartShipping">$0.00</span>
      </div>
      <div class="d-flex justify-content-between fw-bold mb-3">
        <span>Total:</span>
        <span id="cartTotal">$0.00</span>
      </div>
      <a href="Chackout.html" style="text-decoration: none;"><button class="btn btn-custom w-100" id="checkoutBtn" disabled>Proceed to Checkout</button></a>
    </div>
  </div>
</div>

<!-- Footer -->
  <footer id="contact" class="bg-dark text-light py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 mb-4">
          <h4 class="fw-bold mb-3">COSY AIRCONDITIONERS</h4>
          <p>Your trusted partner for premium air conditioning solutions for residential and commercial growth.</p>
          <div class="mt-4">
            <a href="https://www.facebook.com/" class="text-light me-3"><i class="fab fa-facebook fa-2x"></i></a>
            <a href="https://x.com/" class="text-light me-3"><i class="fab fa-twitter fa-2x"></i></a>
            <a href="https://www.instagram.com/accounts/login/?hl=en" class="text-light me-3"><i class="fab fa-instagram fa-2x"></i></a>
            <a href="https://pk.linkedin.com/" class="text-light"><i class="fab fa-linkedin fa-2x"></i></a>
          </div>
        </div>
        <div class="col-lg-4 mb-4">
          <h6 class="fw-bold mb-3">QUICK LINKS</h6>
          <ul class="list-unstyled">
            <li class="mb-2"><a href="index.html" class="text-light text-decoration-none"><i
                  class="fas fa-chevron-right me-2"></i>Home</a></li>
            <li class="mb-2"><a href="Products.html" class="text-light text-decoration-none"><i
                  class="fas fa-chevron-right me-2"></i>Products</a></li>
            <li class="mb-2"><a href="Brand.html" class="text-light text-decoration-none"><i
                  class="fas fa-chevron-right me-2"></i>Brands</a></li>
            <li class="mb-2"><a href="Compare.html" class="text-light text-decoration-none"><i
                  class="fas fa-chevron-right me-2"></i>Compare</a></li>
            <li class="mb-2"><a href="About.HTML" class="text-light text-decoration-none"><i
                  class="fas fa-chevron-right me-2"></i>About Us</a></li>
            <li class="mb-2"><a href="Contact.html" class="text-light text-decoration-none"><i
                  class="fas fa-chevron-right me-2"></i>Contact</a></li>
          </ul>
        </div>
        <div class="col-lg-4 mb-4">
          <h6 class="fw-bold mb-3">CONTACT INFO</h6>
          <p><i class="fas fa-phone me-2"></i> +21 001 32 2021</p>
          <p><i class="fas fa-envelope me-2"></i> info@cosy.com</p>
          <p><i class="fas fa-globe me-2"></i> www.cosy.com</p>
          <p><i class="fas fa-map-marker-alt me-2"></i> 123 Cooling Street, Comfort City</p>
        </div>
      </div>
      <hr class="my-4">
      <div class="text-center">
        <p>&copy; 2023 COSY Air Conditioners. All Rights Reserved.</p>
      </div>
    </div>
  </footer>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // Load cart from localStorage on page load
  let cart = JSON.parse(localStorage.getItem('cart')) || [];

  // Cart toggle functionality - FIXED VERSION (vanilla JS)
  document.getElementById('cartToggle').addEventListener('click', function() {
    const cartOffcanvas = new bootstrap.Offcanvas(document.getElementById('cartOffcanvas'));
    cartOffcanvas.show();
  });
  // Product details
  const currentProduct = {
    id: 5,
    name: "Dawlance Central Air 3 Ton",
    price: 1320,
    image: "d5.png",
    brand: "DAWLANCE"
  };

  // Thumbnail image change
  $(".thumb").click(function(){
    let newSrc = $(this).attr("src");
    $("#mainImage").attr("src", newSrc);
  });

  // Quantity increment/decrement
  $(".plus-btn").click(function(){
    let qty = parseInt($("#qty").val());
    $("#qty").val(qty+1);
  });
  
  $(".minus-btn").click(function(){
    let qty = parseInt($("#qty").val());
    if(qty > 1) $("#qty").val(qty-1);
  });

  // Add to cart functionality
  $("#addToCartBtn").click(function(){
    const quantity = parseInt($("#qty").val());
    const existingItemIndex = cart.findIndex(item => item.id === currentProduct.id);
    
    if(existingItemIndex !== -1) {
      cart[existingItemIndex].quantity += quantity;
    } else {
      cart.push({ ...currentProduct, quantity: quantity });
    }
    
    // Save to localStorage and update display
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartDisplay();
    
    const cartOffcanvas = new bootstrap.Offcanvas(document.getElementById('cartOffcanvas'));
    cartOffcanvas.show();
    
    showToast("Dawlance Central Air 3 Ton added to cart!");
  });

  // Download document functionality - FIXED VERSION
  $("#downloadDocBtn").click(function(){
    // Create a properly formatted Word document with HTML structure
    const content = `
<html xmlns:o='urn:schemas-microsoft-com:office:office' 
      xmlns:w='urn:schemas-microsoft-com:office:word' 
      xmlns='http://www.w3.org/TR/REC-html40'>
<head>
  <meta charset="utf-8">
  <title>Dawlance Central Air 3 Ton - Product Details</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      line-height: 1.6;
    }
    h1 {
      color: #0d9488;
      border-bottom: 2px solid #0d9488;
      padding-bottom: 10px;
    }
    h2 {
      color: #0b7666;
      margin-top: 25px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 15px 0;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
    }
    .highlight {
      background-color: #f9f9f9;
      padding: 15px;
      border-left: 4px solid #0d9488;
      margin: 15px 0;
    }
    ul {
      padding-left: 20px;
    }
    li {
      margin-bottom: 8px;
    }
  </style>
</head>
<body>
  <h1>Dawlance Central Air 3 Ton - Complete Product Details</h1>
  
  <div class="highlight">
    <p><strong>Product Overview:</strong> The Dawlance Central Air 3 Ton is a premium whole-home cooling solution designed for large residences and commercial spaces. With advanced features and commercial-grade components, it provides efficient and reliable cooling for up to 1500 sq.ft.</p>
  </div>
  
  <h2>Key Specifications</h2>
  <table>
    <tr><th>Capacity</th><td>3 Ton</td></tr>
    <tr><th>Cooling Power</th><td>36000 BTU</td></tr>
    <tr><th>Energy Rating</th><td>5 Star</td></tr>
    <tr><th>SEER Rating</th><td>18+</td></tr>
    <tr><th>Noise Level</th><td>45 dB</td></tr>
    <tr><th>Coverage Area</th><td>Up to 1500 sq.ft</td></tr>
    <tr><th>Warranty</th><td>5 Years</td></tr>
  </table>
  
  <h2>Advanced Features</h2>
  <ul>
    <li>Whole Home Cooling System - Complete home comfort solution</li>
    <li>Smart Programmable Thermostat - Wi-Fi enabled with app control</li>
    <li>Multi-Zone Cooling Capability - Independent temperature control for different areas</li>
    <li>Commercial-Grade Scroll Compressor - Durable and efficient operation</li>
    <li>Energy Efficient Operation - 5-star rating for cost savings</li>
    <li>Advanced Air Filtration System - HEPA filter for clean air</li>
    <li>Humidity Control - Maintains optimal indoor humidity levels</li>
    <li>Auto-Restart Function - Resumes operation after power outage</li>
  </ul>
  
  <h2>Technical Specifications</h2>
  <table>
    <tr><th>Brand</th><td>DAWLANCE</td></tr>
    <tr><th>Category</th><td>Central Air Conditioner</td></tr>
    <tr><th>System Type</th><td>Split Central System</td></tr>
    <tr><th>Compressor</th><td>Heavy-Duty Scroll Type</td></tr>
    <tr><th>Refrigerant</th><td>R410A (Eco-Friendly)</td></tr>
    <tr><th>Voltage</th><td>230V/60Hz</td></tr>
    <tr><th>Ductwork</th><td>Required (Not Included)</td></tr>
    <tr><th>Thermostat</th><td>Smart Wi-Fi Enabled</td></tr>
    <tr><th>Air Flow</th><td>Multi-Speed Blower</td></tr>
    <tr><th>Filter Type</th><td>High-Efficiency Particulate Air (HEPA)</td></tr>
  </table>
  
  <h2>Installation Requirements</h2>
  <ul>
    <li>Professional Installation Required - Expert installation mandatory</li>
    <li>Existing Ductwork Needed - Must have existing duct system</li>
    <li>Outdoor Unit Space: Minimum 2 ft clearance - Proper ventilation required</li>
    <li>Electrical: Dedicated 230V Circuit - Separate electrical circuit needed</li>
    <li>Condensate Drain Line Required - Proper drainage system essential</li>
  </ul>
  
  <h2>Energy Efficiency</h2>
  <ul>
    <li>5-Star Energy Rating - Maximum energy efficiency</li>
    <li>SEER 18+ Rating - Superior seasonal energy efficiency</li>
    <li>Variable Speed Compressor - Adjusts to cooling demands</li>
    <li>Energy Saving Mode - Reduces power consumption</li>
    <li>Smart Scheduling - Optimizes operation based on usage patterns</li>
  </ul>
  
  <h2>Warranty Information</h2>
  <ul>
    <li>5 Years Comprehensive Warranty - Complete coverage</li>
    <li>Free Delivery - No additional shipping charges</li>
    <li>Professional Installation Included - Expert setup included</li>
    <li>24/7 Customer Support - Round-the-clock assistance</li>
    <li>Extended Warranty Options Available - Additional protection available</li>
  </ul>
  
  <h2>Maintenance Requirements</h2>
  <ul>
    <li>Professional Annual Service Recommended - Yearly maintenance advised</li>
    <li>Filter Replacement Every 3-6 Months - Regular filter changes</li>
    <li>Duct Cleaning Every 2-3 Years - Maintains air quality</li>
    <li>Coil Cleaning as Needed - Ensures optimal performance</li>
  </ul>
  
  <h2>Safety Features</h2>
  <ul>
    <li>Overload Protection - Prevents motor damage</li>
    <li>Freeze Protection - Prevents coil freezing</li>
    <li>High Pressure Cut-off - Safety shut-off for high pressure</li>
    <li>Low Pressure Cut-off - Safety shut-off for low pressure</li>
    <li>Anti-Corrosion Coating - Protects against environmental damage</li>
  </ul>
  
  <h2>Included Components</h2>
  <ul>
    <li>Outdoor Condensing Unit - Main cooling component</li>
    <li>Indoor Air Handler - Distributes cooled air</li>
    <li>Smart Thermostat - Advanced temperature control</li>
    <li>Installation Kit - All necessary installation components</li>
    <li>User Manual - Complete operating instructions</li>
    <li>Warranty Documentation - Warranty terms and conditions</li>
  </ul>
  
  <h2>Contact Information</h2>
  <ul>
    <li><strong>Website:</strong> www.cosy.com</li>
    <li><strong>Phone:</strong> +21 001 32 2021</li>
    <li><strong>Email:</strong> info@cosy.com</li>
    <li><strong>Address:</strong> 123 Cooling Street, Comfort City</li>
  </ul>
  
  <div class="highlight">
    <p><strong>Thank you for choosing COSY Air Conditioners!</strong></p>
  </div>
  
  <p><em>Document generated on: ${new Date().toLocaleDateString()}</em></p>
</body>
</html>
    `;
    
    // Create a Blob with the content
    const blob = new Blob([content], { type: 'application/msword' });
    
    // Create a download link
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'Dawlance-Central-Air-3-Ton.doc'; // Changed to .doc for better Word compatibility
    
    // Trigger the download
    document.body.appendChild(a);
    a.click();
    
    // Clean up
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    // Close the modal
    const modal = bootstrap.Modal.getInstance(document.getElementById('downloadModal'));
    modal.hide();
    
    showToast("Product details document downloaded successfully!");
  });

  // Update cart display
  function updateCartDisplay() {
    const cartItemsContainer = $("#cartItems");
    const cartCount = $("#cartCount");
    const cartSubtotal = $("#cartSubtotal");
    const cartShipping = $("#cartShipping");
    const cartTotal = $("#cartTotal");
    const checkoutBtn = $("#checkoutBtn");
    
    let totalItems = 0;
    cart.forEach(item => { totalItems += item.quantity; });
    cartCount.text(totalItems);
    
    cartItemsContainer.empty();
    
    if(cart.length === 0) {
      cartItemsContainer.html(`<div class="empty-cart"><i class="fas fa-shopping-cart"></i><p>Your cart is empty</p></div>`);
      checkoutBtn.prop('disabled', true);
    } else {
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        cartItemsContainer.append(`
          <div class="cart-item mb-3 p-3 border rounded" data-id="${item.id}">
            <div class="d-flex justify-content-between align-items-start">
              <div class="d-flex">
                <img src="${item.image}" class="cart-item-img me-3" alt="${item.name}">
                <div>
                  <h6 class="mb-1">${item.name}</h6>
                  <p class="mb-1 text-muted">${item.brand}</p>
                  <p class="cart-item-price mb-0">$${item.price}</p>
                </div>
              </div>
              <button class="btn btn-sm btn-outline-danger remove-item" data-id="${item.id}"><i class="fas fa-trash"></i></button>
            </div>
            <div class="d-flex justify-content-between align-items-center mt-2">
              <div class="input-group cart-item-quantity" style="width:120px;">
                <button class="btn btn-outline-secondary decrease-qty" data-id="${item.id}">-</button>
                <input type="text" class="form-control text-center item-qty" value="${item.quantity}" data-id="${item.id}">
                <button class="btn btn-outline-secondary increase-qty" data-id="${item.id}">+</button>
              </div>
              <span class="fw-bold">$${itemTotal.toFixed(2)}</span>
            </div>
          </div>
        `);
      });
      checkoutBtn.prop('disabled', false);
    }
    
    let subtotal = 0;
    cart.forEach(item => { subtotal += item.price * item.quantity; });
    const shipping = subtotal > 0 ? 15.00 : 0;
    const total = subtotal + shipping;
    
    cartSubtotal.text(`$${subtotal.toFixed(2)}`);
    cartShipping.text(`$${shipping.toFixed(2)}`);
    cartTotal.text(`$${total.toFixed(2)}`);
    
    // Save cart to localStorage after any update
    localStorage.setItem('cart', JSON.stringify(cart));
  }

  // Event delegation for cart item actions
  $(document).on('click', '.remove-item', function() {
    const itemId = parseInt($(this).data('id'));
    cart = cart.filter(item => item.id !== itemId);
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartDisplay();
  });

  $(document).on('click', '.increase-qty', function() {
    const itemId = parseInt($(this).data('id'));
    const item = cart.find(item => item.id === itemId);
    if(item) { 
      item.quantity += 1; 
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay(); 
    }
  });

  $(document).on('click', '.decrease-qty', function() {
    const itemId = parseInt($(this).data('id'));
    const item = cart.find(item => item.id === itemId);
    if(item && item.quantity > 1) { 
      item.quantity -= 1; 
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay(); 
    }
  });

  $(document).on('change', '.item-qty', function() {
    const itemId = parseInt($(this).data('id'));
    const newQuantity = parseInt($(this).val());
    const item = cart.find(item => item.id === itemId);
    if(item && newQuantity > 0) {
      item.quantity = newQuantity;
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
    } else if(item && newQuantity <= 0) {
      cart = cart.filter(item => item.id !== itemId);
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartDisplay();
    }
  });

  // Checkout button
  $("#checkoutBtn").click(function() {
    localStorage.setItem('cartTotal', document.getElementById('cartTotal').textContent);
    window.location.href = 'Chackout.html';
  });

  // Toast notification function
  function showToast(message) {
    const toast = $(`<div class="toast align-items-center text-white bg-success border-0 position-fixed" style="bottom: 20px; right: 20px; z-index: 1055;" role="alert"><div class="d-flex"><div class="toast-body">${message}</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div></div>`);
    $('body').append(toast);
    const bsToast = new bootstrap.Toast(toast[0]);
    bsToast.show();
    toast.on('hidden.bs.toast', function() { $(this).remove(); });
  }

  // Initialize cart display on page load
  $(document).ready(function() {
    updateCartDisplay();
  });
</script>
</body>
</html>